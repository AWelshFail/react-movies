{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\eddim\\\\Desktop\\\\Uni 2021\\\\Systems\\\\react-movies\\\\COTE-Movies\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport MovieComponent from \"./components/MovieComponent\";\nimport axios from 'axios';\nimport MovieInfoComponent from \"./components/MovieInfoComponent\";\nimport Dashboard from './components/Dashboard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const API_KEY = \"k_4gvizmjv\"; //export const API_KEY = \"k_6npoyq2n\";\n//export const API_KEY = \"k_9uxy48gg\";\n//export const API_KEY = \"k_d5nc6sfs\";\n//export const API_KEY = \"k_atxl86be\";\n\nvar first_count = true;\nvar search_header = \"\";\nconst Container = styled.div`\ndisplay: flex;\nflex-direction: column;\n`;\n_c = Container;\nconst Header = styled.div`\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\nalign-items: center;\nbackground-color: black;\ncolor: white;\npadding: 10px;\nfont-size: 25px;\nfont-weight: bold;\nbox-shadow: 0 3px 6px 0 #555;\n`;\n_c2 = Header;\nconst AppName = styled.div`\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\n`;\n_c3 = AppName;\nconst AppLogo = styled.img`\nwidth: 48px;\nheight: 48px;\nmargin: 15px;\n`;\n_c4 = AppLogo;\nconst SearchBox = styled.div`\ndisplay: flex;\nflex-direction: row;\npadding: 10px 10px;\nbackground-color: #fff;\nborder-radius: 6px;\nmargin-left: 20px;\nmargin-right: 15px;\nwidth: 50%;\nheight: 25px;\nalign-items: center;\n`;\n_c5 = SearchBox;\nconst SearchIcon = styled.img`\n width: 32px;\n height: 30px;\n opacity: 40%;\n cursor: pointer;\n`;\n_c6 = SearchIcon;\nconst SearchInput = styled.input`\ncolor: black;\nfont-size: 20px;\nfont-weight: bolder;\nwidth: 80%;\nborder: none;\noutline: none;\nmargin-left: 12px;\ntext-transform: capitalize;\n`;\n_c7 = SearchInput;\nconst MovieListContainer = styled.div`\ndisplay: flex;\nflex-direction: row;\nflex-wrap: wrap;\npadding: 30px;\njustify-content: space-evenly;\ngap: 24px;\n`;\n_c8 = MovieListContainer;\nconst SearchHeader = styled.div`\nmargin-left: 20px;\ntext-transform: capitalize;\n`;\n_c9 = SearchHeader;\n\nfunction App() {\n  _s();\n\n  const [searchQuery, updateSearchQuery] = useState();\n  const [timeoutId, updateTimeoutId] = useState();\n  const [movieList, updateMovieList] = useState([]);\n  const [selectedMovie, onMovieSelect] = useState(); // API call\n\n  const fetchData = async searchString => {\n    if (searchString == null || searchString == \"\") {\n      const response = await axios.get(`https://imdb-api.com/en/API/MostPopularMovies/${API_KEY}`);\n      search_header = \"Most Popular Movies\";\n      updateMovieList(response.data.items);\n    } else {\n      const response = await axios.get(`https://imdb-api.com/API/AdvancedSearch/${API_KEY}/?title=${searchString}`);\n      search_header = searchString;\n      updateMovieList(response.data.results);\n    }\n  }; // search query with timeout of .5 seconds so it doesn't\n  // do an api call for every letter, but waits for\n  // the user to finish typing.\n\n\n  const onTextChange = event => {\n    clearTimeout(timeoutId);\n    updateSearchQuery(event.target.value);\n    const timeout = setTimeout(() => fetchData(event.target.value), 500);\n    updateTimeoutId(timeout);\n  };\n\n  const onTextLoad = event => {\n    if (first_count) {\n      onTextChange(event);\n      first_count = false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    onLoad: onTextLoad,\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(AppName, {\n        children: [/*#__PURE__*/_jsxDEV(AppLogo, {\n          src: \"/VideocutLOGO.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), \"COTE-Movies\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n        children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n          src: \"/icons8-search.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SearchInput, {\n          placeholder: \"Search here...\",\n          value: searchQuery,\n          onChange: onTextChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(SearchHeader, {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        class: \"results\",\n        children: [\"Showing Results For: \", search_header]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }, this), selectedMovie && /*#__PURE__*/_jsxDEV(MovieInfoComponent, {\n      selectedMovie: selectedMovie,\n      onMovieSelect: onMovieSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MovieListContainer, {\n      children: movieList !== null && movieList !== void 0 && movieList.length ? movieList.map((movie, index) => /*#__PURE__*/_jsxDEV(MovieComponent, {\n        movie: movie,\n        onMovieSelect: onMovieSelect\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)) : \"No search results were generated, please enter a new search.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"+YwS1pEWBCxorcREFgPnGHY7Xgo=\");\n\n_c10 = App;\nexport default App;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10;\n\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"AppName\");\n$RefreshReg$(_c4, \"AppLogo\");\n$RefreshReg$(_c5, \"SearchBox\");\n$RefreshReg$(_c6, \"SearchIcon\");\n$RefreshReg$(_c7, \"SearchInput\");\n$RefreshReg$(_c8, \"MovieListContainer\");\n$RefreshReg$(_c9, \"SearchHeader\");\n$RefreshReg$(_c10, \"App\");","map":{"version":3,"sources":["C:/Users/eddim/Desktop/Uni 2021/Systems/react-movies/COTE-Movies/src/App.js"],"names":["useState","styled","MovieComponent","axios","MovieInfoComponent","Dashboard","API_KEY","first_count","search_header","Container","div","Header","AppName","AppLogo","img","SearchBox","SearchIcon","SearchInput","input","MovieListContainer","SearchHeader","App","searchQuery","updateSearchQuery","timeoutId","updateTimeoutId","movieList","updateMovieList","selectedMovie","onMovieSelect","fetchData","searchString","response","get","data","items","results","onTextChange","event","clearTimeout","target","value","timeout","setTimeout","onTextLoad","length","map","movie","index"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport MovieComponent from \"./components/MovieComponent\";\r\nimport axios from 'axios';\r\nimport MovieInfoComponent from \"./components/MovieInfoComponent\";\r\nimport Dashboard from './components/Dashboard';\r\n\r\n\r\n\r\nexport const API_KEY = \"k_4gvizmjv\";\r\n//export const API_KEY = \"k_6npoyq2n\";\r\n//export const API_KEY = \"k_9uxy48gg\";\r\n//export const API_KEY = \"k_d5nc6sfs\";\r\n//export const API_KEY = \"k_atxl86be\";\r\n\r\nvar first_count = true;\r\nvar search_header = \"\";\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`;\r\n\r\nconst Header = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\nalign-items: center;\r\nbackground-color: black;\r\ncolor: white;\r\npadding: 10px;\r\nfont-size: 25px;\r\nfont-weight: bold;\r\nbox-shadow: 0 3px 6px 0 #555;\r\n`;\r\n\r\nconst AppName = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-items: center;\r\n`;\r\n\r\nconst AppLogo = styled.img`\r\nwidth: 48px;\r\nheight: 48px;\r\nmargin: 15px;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\npadding: 10px 10px;\r\nbackground-color: #fff;\r\nborder-radius: 6px;\r\nmargin-left: 20px;\r\nmargin-right: 15px;\r\nwidth: 50%;\r\nheight: 25px;\r\nalign-items: center;\r\n`;\r\n\r\nconst SearchIcon = styled.img`\r\n width: 32px;\r\n height: 30px;\r\n opacity: 40%;\r\n cursor: pointer;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\ncolor: black;\r\nfont-size: 20px;\r\nfont-weight: bolder;\r\nwidth: 80%;\r\nborder: none;\r\noutline: none;\r\nmargin-left: 12px;\r\ntext-transform: capitalize;\r\n`;\r\n\r\nconst MovieListContainer = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nflex-wrap: wrap;\r\npadding: 30px;\r\njustify-content: space-evenly;\r\ngap: 24px;\r\n`;\r\n\r\nconst SearchHeader = styled.div`\r\nmargin-left: 20px;\r\ntext-transform: capitalize;\r\n`;\r\n\r\nfunction App() {\r\n  const [searchQuery, updateSearchQuery] = useState();\r\n  const [timeoutId, updateTimeoutId] = useState();\r\n  const [movieList, updateMovieList] = useState([]);\r\n  const [selectedMovie, onMovieSelect] = useState();\r\n  \r\n  \r\n  \r\n  // API call\r\n  \r\n  const fetchData = async (searchString) => {\r\n    if (searchString == null || searchString == \"\") {\r\n      const response = await axios.get(\r\n          `https://imdb-api.com/en/API/MostPopularMovies/${API_KEY}`\r\n      )\r\n      search_header = \"Most Popular Movies\";\r\n      updateMovieList(response.data.items)\r\n\r\n    } else {\r\n      const response = await axios.get(\r\n          `https://imdb-api.com/API/AdvancedSearch/${API_KEY}/?title=${searchString}`\r\n      )\r\n      search_header = searchString;\r\n      updateMovieList(response.data.results)\r\n    }\r\n  };\r\n\r\n  // search query with timeout of .5 seconds so it doesn't\r\n  // do an api call for every letter, but waits for\r\n  // the user to finish typing.\r\n\r\n  const onTextChange = (event) => {\r\n    clearTimeout(timeoutId);\r\n    updateSearchQuery(event.target.value);\r\n    const timeout = setTimeout(() => fetchData(event.target.value), 500);\r\n    updateTimeoutId(timeout);\r\n  };\r\n  const onTextLoad = (event) => {\r\n    if (first_count) {\r\n        onTextChange(event)\r\n        first_count = false;\r\n    }\r\n};\r\n  \r\n\r\n  return (\r\n\r\n    <Container onLoad={onTextLoad}>\r\n    <Header>\r\n        <AppName>\r\n            <AppLogo src=\"/VideocutLOGO.png\" />\r\n            COTE-Movies\r\n        </AppName>\r\n        <SearchBox>\r\n            <SearchIcon src=\"/icons8-search.png\" />\r\n            <SearchInput placeholder=\"Search here...\"\r\n                value={searchQuery}\r\n                onChange={onTextChange} />\r\n        </SearchBox>\r\n    </Header>\r\n    <SearchHeader>\r\n        <h2 class=\"results\">Showing Results For: {search_header}</h2>\r\n    </SearchHeader>\r\n    {selectedMovie && (\r\n        <MovieInfoComponent\r\n            selectedMovie={selectedMovie}\r\n            onMovieSelect={onMovieSelect}\r\n        />)}\r\n\r\n    <MovieListContainer>\r\n\r\n           {/* Check if the movieList which is a variable obj,\r\n             marked by a \"?\" mark, has a length (Also marked by ? mark),\r\n             i.e. If there is no search results, the movieList will be 0, as will the length of it**\r\n             Then map the movieList via the map method, and return the MovieComponent.\r\n             If no movie is found, return the placeholder \"No search results found!\"  - else marked via :\r\n\r\n             movieList is a useState of array type.\r\n             movieList is mapped to movie obj and index,\r\n             Whereby movieList array is added to the MovieComponent class,\r\n             with it's key mapped to the returned index of an obj, and it's obj\r\n             value mapped to movie.*/}\r\n\r\n        {movieList?.length\r\n            ? movieList.map((movie, index) => (\r\n                <MovieComponent\r\n                    key={index}\r\n                    movie={movie}\r\n                    onMovieSelect={onMovieSelect}\r\n                />))\r\n            : \"No search results were generated, please enter a new search.\"}\r\n\r\n    </MovieListContainer>\r\n</Container>\r\n      \r\n  );\r\n\r\n  \r\n\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}