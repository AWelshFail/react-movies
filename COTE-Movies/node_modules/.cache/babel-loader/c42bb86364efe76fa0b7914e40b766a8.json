{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\pmotj\\\\Documents\\\\GitHub\\\\react-movies\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\pmotj\\\\Documents\\\\GitHub\\\\react-movies\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\pmotj\\\\Documents\\\\GitHub\\\\react-movies\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:\\\\Users\\\\pmotj\\\\Documents\\\\GitHub\\\\react-movies\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4,\n    _templateObject5,\n    _templateObject6,\n    _templateObject7,\n    _templateObject8,\n    _jsxFileName = \"C:\\\\Users\\\\pmotj\\\\Documents\\\\GitHub\\\\react-movies\\\\src\\\\App.js\";\n\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport MovieComponent from \"./components/MovieComponent\";\nimport axios from 'axios';\nimport MovieInfoComponent from \"./components/MovieInfoComponent\"; //export const API_KEY = \"k_6npoyq2n\";\n//export const API_KEY = \"k_9uxy48gg\";\n\nexport var API_KEY = \"k_atxl86be\"; //export const API_KEY = \"k_d5nc6sfs\";\n\nvar Container = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: column;\\n\"])));\nvar Header = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: row;\\njustify-content: space-between;\\nalign-items: center;\\nbackground-color: black;\\ncolor: white;\\npadding: 10px;\\nfont-size: 25px;\\nfont-weight: bold;\\nbox-shadow: 0 3px 6px 0 #555;\\n\"])));\nvar AppName = styled.div(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: row;\\nalign-items: center;\\n\"])));\nvar AppLogo = styled.img(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\nwidth: 48px;\\nheight: 48px;\\nmargin: 15px;\\n\"])));\nvar SearchBox = styled.div(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: row;\\npadding: 10px 10px;\\nbackground-color: #fff;\\nborder-radius: 6px;\\nmargin-left: 20px;\\nmargin-right: 15px;\\nwidth: 50%;\\nheight: 25px;\\nalign-items: center;\\n\"])));\nvar SearchIcon = styled.img(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\\n width: 32px;\\n height: 30px;\\n opacity: 40%;\\n cursor: pointer;\\n\"])));\nvar SearchInput = styled.input(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"\\ncolor: black;\\nfont-size: 20px;\\nfont-weight: bolder;\\nwidth: 80%;\\nborder: none;\\noutline: none;\\nmargin-left: 12px;\\ntext-transform: capitalize;\\n\"])));\nvar MovieListContainer = styled.div(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"\\ndisplay: flex;\\nflex-direction: row;\\nflex-wrap: wrap;\\npadding: 30px;\\njustify-content: space-evenly;\\ngap: 24px;\\n\"])));\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchQuery = _useState2[0],\n      updateSearchQuery = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      timeoutId = _useState4[0],\n      updateTimeoutId = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      movieList = _useState6[0],\n      updateMovieList = _useState6[1]; // IMDB API\n  //const API_KEY = \"k_6npoyq2n\";\n  //const API_KEY = \"k_9uxy48gg\";\n  //const API_KEY = \"k_aaaaaaaa\";\n\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedMovie = _useState8[0],\n      onMovieSelect = _useState8[1]; // API call\n\n\n  var fetchData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchString) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get( // IMDB API\n              //`https://imdb-api.com/en/API/SearchMovie/${API_KEY}/${searchString}`\n              \"https://imdb-api.com/API/AdvancedSearch/\".concat(API_KEY, \"/?title=\").concat(searchString));\n\n            case 2:\n              response = _context.sent;\n              updateMovieList(response.data.results);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchData(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(); // search query with timeout of .5 seconds so it doesn't\n  // do an api call for every letter, but waits for\n  // the user to finish typing.\n\n\n  var onTextChange = function onTextChange(event) {\n    clearTimeout(timeoutId);\n    updateSearchQuery(event.target.value);\n    var timeout = setTimeout(function () {\n      return fetchData(event.target.value);\n    }, 500);\n    updateTimeoutId(timeout);\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AppName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AppLogo, {\n    src: \"/VideocutLOGO.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }), \"COTE-Movies\"), /*#__PURE__*/React.createElement(SearchBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    src: \"/icons8-search.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SearchInput, {\n    placeholder: \"Search here...\",\n    value: searchQuery,\n    onChange: onTextChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }))), selectedMovie && /*#__PURE__*/React.createElement(MovieInfoComponent, {\n    selectedMovie: selectedMovie,\n    onMovieSelect: onMovieSelect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(MovieListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, movieList?.length ? movieList.map(function (movie, index) {\n    return /*#__PURE__*/React.createElement(MovieComponent, {\n      key: index,\n      movie: movie,\n      onMovieSelect: onMovieSelect,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    });\n  }) : \"No search results were generated, please enter a new search.\"));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/pmotj/Documents/GitHub/react-movies/src/App.js"],"names":["useState","styled","MovieComponent","axios","MovieInfoComponent","API_KEY","Container","div","Header","AppName","AppLogo","img","SearchBox","SearchIcon","SearchInput","input","MovieListContainer","App","searchQuery","updateSearchQuery","timeoutId","updateTimeoutId","movieList","updateMovieList","selectedMovie","onMovieSelect","fetchData","searchString","get","response","data","results","onTextChange","event","clearTimeout","target","value","timeout","setTimeout","length","map","movie","index"],"mappings":"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","sourcesContent":["import { useState } from 'react';\r\nimport styled from 'styled-components'\r\nimport MovieComponent from \"./components/MovieComponent\";\r\nimport axios from 'axios';\r\nimport MovieInfoComponent from \"./components/MovieInfoComponent\";\r\n\r\n//export const API_KEY = \"k_6npoyq2n\";\r\n//export const API_KEY = \"k_9uxy48gg\";\r\nexport const API_KEY = \"k_atxl86be\";\r\n//export const API_KEY = \"k_d5nc6sfs\";\r\n\r\nconst Container = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\n`;\r\n\r\nconst Header = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\njustify-content: space-between;\r\nalign-items: center;\r\nbackground-color: black;\r\ncolor: white;\r\npadding: 10px;\r\nfont-size: 25px;\r\nfont-weight: bold;\r\nbox-shadow: 0 3px 6px 0 #555;\r\n`;\r\n\r\nconst AppName = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nalign-items: center;\r\n`;\r\n\r\nconst AppLogo = styled.img`\r\nwidth: 48px;\r\nheight: 48px;\r\nmargin: 15px;\r\n`;\r\n\r\nconst SearchBox = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\npadding: 10px 10px;\r\nbackground-color: #fff;\r\nborder-radius: 6px;\r\nmargin-left: 20px;\r\nmargin-right: 15px;\r\nwidth: 50%;\r\nheight: 25px;\r\nalign-items: center;\r\n`;\r\n\r\nconst SearchIcon = styled.img`\r\n width: 32px;\r\n height: 30px;\r\n opacity: 40%;\r\n cursor: pointer;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\ncolor: black;\r\nfont-size: 20px;\r\nfont-weight: bolder;\r\nwidth: 80%;\r\nborder: none;\r\noutline: none;\r\nmargin-left: 12px;\r\ntext-transform: capitalize;\r\n`;\r\n\r\nconst MovieListContainer = styled.div`\r\ndisplay: flex;\r\nflex-direction: row;\r\nflex-wrap: wrap;\r\npadding: 30px;\r\njustify-content: space-evenly;\r\ngap: 24px;\r\n`;\r\n\r\nfunction App() {\r\n  const [searchQuery, updateSearchQuery] = useState();\r\n  const [timeoutId, updateTimeoutId] = useState();\r\n  const [movieList, updateMovieList] = useState([]);\r\n  \r\n  // IMDB API\r\n  //const API_KEY = \"k_6npoyq2n\";\r\n  //const API_KEY = \"k_9uxy48gg\";\r\n  //const API_KEY = \"k_aaaaaaaa\";\r\n  \r\n  \r\n  const [selectedMovie, onMovieSelect] = useState();\r\n  \r\n  // API call\r\n  \r\n  const fetchData = async (searchString) => {\r\n      const response = await axios.get(\r\n\r\n      // IMDB API\r\n      \r\n      //`https://imdb-api.com/en/API/SearchMovie/${API_KEY}/${searchString}`\r\n      \r\n      \r\n      `https://imdb-api.com/API/AdvancedSearch/${API_KEY}/?title=${searchString}`\r\n      \r\n      )\r\n\r\n      updateMovieList(response.data.results)\r\n  };\r\n\r\n  // search query with timeout of .5 seconds so it doesn't\r\n  // do an api call for every letter, but waits for\r\n  // the user to finish typing.\r\n\r\n  const onTextChange = (event) => {\r\n    clearTimeout(timeoutId);\r\n    updateSearchQuery(event.target.value);\r\n    const timeout = setTimeout(() => fetchData(event.target.value), 500);\r\n    updateTimeoutId(timeout);\r\n  };\r\n  \r\n  return (\r\n   \r\n      <Container>\r\n        <Header>\r\n      <AppName>\r\n        <AppLogo src=\"/VideocutLOGO.png\" />\r\n        COTE-Movies\r\n      </AppName>\r\n      <SearchBox>\r\n        <SearchIcon src=\"/icons8-search.png\" />\r\n        <SearchInput placeholder=\"Search here...\"\r\n          value={searchQuery}\r\n          onChange={onTextChange} />\r\n      </SearchBox>\r\n\r\n    </Header>\r\n    {selectedMovie && (\r\n    <MovieInfoComponent\r\n       selectedMovie = {selectedMovie}\r\n       onMovieSelect = {onMovieSelect}\r\n    />)}\r\n    \r\n    <MovieListContainer>\r\n    { \r\n    // Check if the movieList which is a variable obj,\r\n    // marked by a \"?\" mark, has a length (Also marked by ? mark),\r\n    // i.e. If there is no search results, the movieList will be 0, as will the length of it**\r\n    // Then map the movieList via the map method, and return the MovieComponent.\r\n    // If no movie is found, return the placeholder \"No search results found!\"  - else marked via :\r\n\r\n    // movieList is a useState of array type.\r\n    // movieList is mapped to movie obj and index,\r\n    // Whereby movieList array is added to the MovieComponent class,\r\n    // with it's key mapped to the returned index of an obj, and it's obj\r\n    // value mapped to movie.\r\n\r\n    }\r\n\r\n        {movieList?.length\r\n          ? movieList.map((movie, index) => (\r\n          <MovieComponent\r\n           key = {index}\r\n           movie = {movie}\r\n           onMovieSelect = {onMovieSelect} \r\n           />))\r\n          : \"No search results were generated, please enter a new search.\"}\r\n        \r\n        </MovieListContainer>\r\n      </Container>\r\n  );\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}